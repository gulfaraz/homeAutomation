<template>
    <h1>${title}</h1>
    <div if.bind="showNetworkLinkForm">
        <form role="form" submit.delegate="linkNetwork()">
            <div>
                <div>
                    <label for="networkName">SSID</label>
                    <input name="networkName" id="networkName" type="text" value.bind="networkName">
                </div>
            </div>
            <div>
                <div>
                    <label for="password">Password</label>
                    <input name="password" id="password" type="password" value.bind="password">
                </div>
            </div>
            <div>
                <button type="submit">Link</button>
                <button type="button" click.delegate="cancelNetworkLink()">Cancel</button>
            </div>
        </form>
    </div>
    <div if.bind="showNetworkUnlinkForm">
        <form role="form" submit.delegate="unlinkNetwork()">
            <div>
                Are you sure you want to unlink the network ${networkName} ?
            </div>
            <div>
                <button type="submit">Unlink</button>
                <button type="button" click.delegate="cancelNetworkUnlink()">Cancel</button>
            </div>
        </form>
    </div>
    <div if.bind="!showNetworkLinkForm && !showNetworkUnlinkForm">
        <div if.bind="!loading">${networks.length} Networks Found</div>
        <div if.bind="loading">Scanning for networks...</div>
        <div repeat.for="network of networks">
            <div class="networkInformation">
                <div class="networkName">${network.ssid}</div>
                <div class="networkStrength">${network.signal_level}</div>
                <div class="networkActions">
                    <button if.bind="!network.linked" type="button" click.delegate="confirmNetworkLink(network)">Link</button>
                    <button if.bind="network.linked" type="button" click.delegate="confirmNetworkUnlink(network)">Unlink</button>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div>${message}</div>
    <a route-href="route: home" title="Go Back">Back</a>
</template>
