<div>
    <h3>Link Terminals</h3>
    <div ng-show="message">
        <div>{{message}}</div>
    </div>
    <div ng-hide="message">
        <div class="switch-list">
            <div class="switch" ng-repeat="switch in switchList">
                <div class="switch-index">{{$index}}</div>
                <div class="switch-test-button-container">
                    <button type="button" class="switch-test-button" ng-click="toggleSwitch($index)">Test</button>
                </div>
                <div>
                    <select ng-model="deviceIdList[$index]" required="true" ng-options="[terminal.homeId, terminal.roomId, terminal.terminalId] as terminal.terminalName for terminal in terminalList">
                        <option value="">Unattached</option>
                    </select>
                </div>
                <div>
                    <div>{{getTerminalType(deviceIdList[$index][2])}}</div>
                </div>
                <div>
                    <div>{{deviceIdList[$index]}}</div>
                </div>
            </div>
        </div>
        <div>
            <button type="button" ng-click="setupDevice(homeCredentials, deviceIdList)">Save</button>
        </div>
    </div>
    <div>
        <button type="button" ui-sref="device">Back</button>
    </div>
</div>
